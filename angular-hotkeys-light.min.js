!function(a){!function(a){a.module("fps.hotkeys",[]).service("Hotkeys",["$Hotkeys",function(a){return new a}]).provider("$Hotkeys",function(){function a(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}var b=function(a){for(var b={},c=[],d=0;d<a.length;++d)b[a[d]]||c.push(a[d]),b[a[d]]=!0;return c},c=this.KEY_CODES={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},d=function(b){if(this.id=b.id||a(),this.key=b.key,this.context=b.context||null,this.callback=b.callback,this.args=b.args,this.onKeyUp=!1,null===this.key||void 0===this.key)throw new TypeError('HotKeys: Argument "key" is required');if(null===this.callback||void 0===this.callback)throw new TypeError('HotKeys: Argument "callback" is required')},e=function(){this._hotkeys={},this._hotkeysUp={},this._onKeydown=this._onKeydown.bind(this),this._onKeyup=this._onKeyup.bind(this),this.initialize()};Object.defineProperty(e.prototype,"initialize",{value:function(){window.addEventListener("keydown",this._onKeydown,!0),window.addEventListener("keyup",this._onKeyup,!0)}}),Object.defineProperty(e.prototype,"_invokeHotkeyHandlers",{value:function(a,b,c){for(var d=0,e=c.length;e>d;d++)try{var f=c[d];f.callback.call(f.context,a,f.args)}catch(g){console.log("HotKeys: ",f.key,g.message)}}}),Object.defineProperty(e.prototype,"_onKeydown",{value:function(a){var b=this.keyStringFromEvent(a);this._hotkeys[b]&&this._invokeHotkeyHandlers(a,b,this._hotkeys[b])},writable:!0}),Object.defineProperty(e.prototype,"_onKeyup",{value:function(a){var b=this.keyStringFromEvent(a);this._hotkeysUp[b]&&this._invokeHotkeyHandlers(this._hotkeysUp[b],b)},writable:!0}),Object.defineProperty(e.prototype,"keyStringFromEvent",{value:function(a){var d=[],e=a.which;return e=c[e]?c[e]:String.fromCharCode(e).toLowerCase(),a.ctrlKey&&d.push("ctrl"),a.altKey&&d.push("alt"),a.shiftKey&&d.push("shift"),a.metaKey&&d.push("meta"),d.push(e),b(d).join("+")}}),Object.defineProperty(e.prototype,"deregisterHotkey",{value:function(a){var b,c=this._hotkeys;if(this._validateHotkey(a),a.onKeyUp&&(c=this._hotkeysUp),c[a.key])for(var d=c[a.key],e=0;e<d.length;++e){var f=d[e];(a.callback===f.callback&&f.context===a.context||a.id===f.id)&&(b=d.splice(e,1))}return b}}),Object.defineProperty(e.prototype,"_validateHotkey",{value:function(a){if(!(a instanceof d))throw new TypeError("Hotkeys: Expected a hotkey object be instance of HotKey")}}),Object.defineProperty(e.prototype,"_registerKey",{value:function(a){var b=this._hotkeys;a.onKeyUp&&(b=this._hotkeysUp),b[a.key]=b[a.key]||[],b[a.key].push(a)}}),Object.defineProperty(e.prototype,"registerHotkey",{value:function(a){this._validateHotkey(a),this._registerKey(a)}}),Object.defineProperty(e.prototype,"registerHotkeyUp",{value:function(a){this._validateHotkey(a),a.onKeyUp=!0,this._registerKey(a)}}),Object.defineProperty(e.prototype,"createHotkey",{value:function(a){return new d(a)}}),this.$get=function(){return e}})}(window.angular)}(angular);
//# sourceMappingURL=angular-hotkeys-light.map.js